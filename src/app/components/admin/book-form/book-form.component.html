<div class="form-container">
  <div class="card">
    <div class="card-header">
      <h2>{{ isEditMode ? 'Edit Book' : 'Add New Book' }}</h2>
    </div>
    <div class="card-body">
      <form [formGroup]="bookForm" (ngSubmit)="onSubmit()">
        <div class="form-group">
          <label>Title</label>
          <input type="text" formControlName="title" class="form-control" [ngClass]="{ 'is-invalid': submitted && f['title'].errors }" />
          <div *ngIf="submitted && f['title'].errors" class="invalid-feedback">Title is required</div>
        </div>

        <div class="form-group">
          <label>Author</label>
          <input type="text" formControlName="author" class="form-control" [ngClass]="{ 'is-invalid': submitted && f['author'].errors }" />
          <div *ngIf="submitted && f['author'].errors" class="invalid-feedback">Author is required</div>
        </div>

        <div class="form-group">
            <label>Category</label>
            <select formControlName="category" class="form-control" [ngClass]="{ 'is-invalid': submitted && f['category'].errors }">
                <option value="">Select Category</option>
                <option *ngFor="let cat of categories" [value]="cat">{{cat}}</option>
            </select>
            <div *ngIf="submitted && f['category'].errors" class="invalid-feedback">Category is required</div>
        </div>

        <div class="form-group">
            <label>Description</label>
            <textarea formControlName="description" class="form-control" rows="3" [ngClass]="{ 'is-invalid': submitted && f['description'].errors }"></textarea>
            <div *ngIf="submitted && f['description'].errors" class="invalid-feedback">Description is required</div>
        </div>

        <div class="form-group">
            <label>Cover Image URL</label>
            <input type="text" formControlName="coverImage" class="form-control" [ngClass]="{ 'is-invalid': submitted && f['coverImage'].errors }" placeholder="https://..." />
            <div *ngIf="submitted && f['coverImage'].errors" class="invalid-feedback">Cover Image is required</div>
        </div>
        
        <div class="form-group">
            <label>Total Copies</label>
            <input type="number" formControlName="totalCopies" class="form-control" [ngClass]="{ 'is-invalid': submitted && f['totalCopies'].errors }" />
            <div *ngIf="submitted && f['totalCopies'].errors" class="invalid-feedback">Must be at least 1</div>
        </div>

        <div class="form-actions">
            <button type="button" routerLink="/admin" class="btn btn-secondary">Cancel</button>
            <button [disabled]="loading" class="btn btn-primary">
                {{ isEditMode ? 'Update' : 'Create' }}
            </button>
        </div>
      </form>
    </div>
  </div>
</div>
